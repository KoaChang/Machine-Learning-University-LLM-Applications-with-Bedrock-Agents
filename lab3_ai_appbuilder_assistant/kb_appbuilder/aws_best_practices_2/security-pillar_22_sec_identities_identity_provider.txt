{"page_content": "SEC02-BP04 Rely on a centralized identity provider - Security PillarSEC02-BP04 Rely on a centralized identity provider - Security PillarAWSDocumentationAWS Well-ArchitectedAWS Well-Architected FrameworkImplementation guidance ResourcesSEC02-BP04 Rely on a centralized identity provider\n    For workforce identities (employees and contractors), rely on an\n    identity provider that allows you to manage identities in a\n    centralized place. This makes it easier to manage access across\n    multiple applications and systems, because you are creating,\n    assigning, managing, revoking, and auditing access from a single\n    location.\n  \nDesired outcome: \n    You have a centralized identity provider where you centrally manage\n    workforce users, authentication policies (such as requiring\n    multi-factor authentication (MFA)), and authorization to systems and\n    applications (such as assigning access based on a user's group\n    membership or attributes). Your workforce users sign in to the\n    central identity provider and federate (single sign-on) to internal\n    and external applications, removing the need for users to remember\n    multiple credentials. Your identity provider is integrated with your\n    human resources (HR) systems so that personnel changes are\n    automatically synchronized to your identity provider. For example,\n    if someone leaves your organization, you can automatically revoke\n    access to federated applications and systems (including AWS). You\n    have enabled detailed audit logging in your identity provider and\n    are monitoring these logs for unusual user behavior.\n  \nCommon anti-patterns:\n\n\n\n        You do not use federation and single-sign on. Your workforce\n        users create separate user accounts and credentials in multiple\n        applications and systems.\n      \n\n\n        You have not automated the lifecycle of identities for workforce\n        users, such as by integrating your identity provider with your\n        HR systems. When a user leaves your organization or changes\n        roles, you follow a manual process to delete or update their\n        records in multiple applications and systems.\n      \n\nBenefits of establishing this best\n      practice: By using a centralized identity provider, you\n    have a single place to manage workforce user identities and\n    policies, the ability to assign access to applications to users and\n    groups, and the ability to monitor user sign-in activity. By\n    integrating with your human resources (HR) systems, when a user\n    changes roles, these changes are synchronized to the identity\n    provider and automatically updates their assigned applications and\n    permissions. When a user leaves your organization, their identity is\n    automatically disabled in the identity provider, revoking their\n    access to federated applications and systems.\n  \nLevel of risk exposed if this best practice\n      is not established: High\n  \nImplementation guidance \n\nGuidance for workforce users accessing\n        AWS\n\n\n      Workforce users like employees and contractors in your\n      organization may require access to AWS using the AWS Management Console or\n      AWS Command Line Interface (AWS CLI) to perform their job functions.\n      You can grant AWS access to your workforce users by federating\n      from your centralized identity provider to AWS at two levels:\n      direct federation to each AWS account or federating to multiple\n      accounts in your\n      AWS       organization.\n    \n\n\n\n          To federate your workforce users directly with each AWS account, you can use a centralized identity provider to\n          federate to AWS Identity and Access Management in that account. The\n          flexibility of IAM allows you to enable a separate\n          SAML\n            2.0 or an\n          Open\n            ID Connect (OIDC) Identity Provider for each AWS account and use federated user attributes for access control.\n          Your workforce users will use their web browser to sign in to\n          the identity provider by providing their credentials (such as\n          passwords and MFA token codes). The identity provider issues a\n          SAML assertion to their browser that is submitted to the AWS Management Console sign in URL to allow the user to single sign-on to the\n          AWS Management Console by assuming an IAM Role. Your\n          users can also obtain temporary AWS API credentials for use in\n          the AWS CLI or\n          AWS SDKs from\n          AWS STS by\n          assuming\n            the IAM role using a SAML assertion from the identity\n          provider.\n        \n\n\n          To federate your workforce users with multiple accounts in\n          your AWS organization, you can use\n          AWS IAM Identity Center to centrally manage access for your\n          workforce users to AWS accounts and applications. You enable\n          Identity Center for your organization and configure your\n          identity source. IAM Identity Center provides a default\n          identity source directory which you can use to manage your\n          users and groups. Alternatively, you can choose an external\n          identity source by\n          connecting\n            to your external identity provider using\n          SAML 2.0 and\n          automatically\n            provisioning users and groups using SCIM, or\n          connecting\n            to your Microsoft AD Directory using\n          AWS Directory Service. Once an identity source is\n          configured, you can assign access to users and groups to AWS accounts by defining least-privilege policies in your\n          permission\n            sets. Your workforce users can authenticate through\n          your central identity provider to sign in to the\n          AWS access portal and single-sign on to the AWS accounts\n          and cloud applications assigned to them. Your users can\n          configure the\n          AWS CLI v2 to authenticate with Identity Center and get\n          credentials to run AWS CLI commands. Identity Center also\n          allows single-sign on access to AWS applications such as\n          Amazon SageMaker Studio and\n          AWS IoT Sitewise Monitor portals.\n        \n\n\n      After you follow the preceding guidance, your workforce users will\n      no longer need to use IAM users and groups for normal operations\n      when managing workloads on AWS. Instead, your users and groups are\n      managed outside of AWS and users are able to access AWS resources\n      as a federated identity. Federated identities\n      use the groups defined by your centralized identity provider. You\n      should identify and remove IAM groups, IAM users, and long-lived\n      user credentials (passwords and access keys) that are no longer\n      needed in your AWS accounts. You can\n      find\n        unused credentials using\n      IAM\n        credential reports,\n      delete\n        the corresponding IAM users and\n      delete\n        IAM groups. You can apply a\n      Service\n        Control Policy (SCP) to your organization that helps\n      prevent the creation of new IAM users and groups, enforcing that\n      access to AWS is via federated identities.\n    \n\nGuidance for users of your\n        applications\n\n\n      You can manage the identities of users of your applications, such\n      as a mobile app, using\n      Amazon Cognito as your centralized identity provider.\n      Amazon Cognito enables authentication, authorization, and user management\n      for your web and mobile apps. Amazon Cognito provides an identity store\n      that scales to millions of users, supports social and enterprise\n      identity federation, and offers advanced security features to help\n      protect your users and business. You can integrate your custom web\n      or mobile application with Amazon Cognito to add user authentication and\n      access control to your applications in minutes. Built on open\n      identity standards such as SAML and Open ID Connect (OIDC),\n      Amazon Cognito supports various compliance regulations and integrates\n      with frontend and backend development resources.\n    \nImplementation steps\n\nSteps for workforce users accessing\n          AWS\n\n\n\n\n            Federate your workforce users to AWS using a centralized\n            identity provider using one of the following approaches:\n          \n\n\n\n                Use IAM Identity Center to enable single sign-on to multiple\n                AWS accounts in your AWS organization by federating with\n                your identity provider.\n              \n\n\n                Use IAM to connect your identity provider directly\n                to each AWS account, enabling federated fine-grained\n                access.\n              \n\n\n\n            Identify and remove IAM users and groups that are replaced\n            by federated identities.\n          \n\n\nSteps for users of your\n          applications\n\n\n\n\n            Use Amazon Cognito as a centralized identity provider towards your\n            applications.\n          \n\n\n            Integrate your custom applications with Amazon Cognito using OpenID\n            Connect and OAuth. You can develop your custom applications\n            using the Amplify libraries that provide simple interfaces\n            to integrate with a variety of AWS services, such as Amazon Cognito\n            for authentication.\n          \n\nResources\n\nRelated Well-Architected best\n        practices:\n\n\n\n\nSEC02-BP06 Leverage user groups and attributes\n\n\n\nSEC03-BP02 Grant least privilege access\n\n\n\nSEC03-BP06 Manage access based on lifecycle\n\n\n\nRelated documents:\n\n\n\n\nIdentity\n            federation in AWS\n\n\n\nSecurity\n            best practices in IAM\n\n\n\nAWS Identity and Access Management Best practices\n\n\n\nGetting\n            started with IAM Identity Center delegated\n            administration\n\n\n\nHow\n            to use customer managed policies in IAM Identity Center\n            for advanced use cases", "metadata": {"source": "https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/sec_identities_identity_provider.html", "title": "SEC02-BP04 Rely on a centralized identity provider - Security Pillar", "description": "For workforce identities (employees and contractors), rely on an identity provider that allows you to manage identities in a centralized place. This makes it easier to manage access across multiple applications and systems, because you are creating, assigning, managing, revoking, and auditing access from a single location.", "language": "en-US"}}