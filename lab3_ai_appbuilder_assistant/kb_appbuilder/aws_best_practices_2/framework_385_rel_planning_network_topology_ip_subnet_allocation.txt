{"page_content": "REL02-BP03 Ensure IP subnet allocation accounts for expansion and availability - AWS Well-Architected FrameworkREL02-BP03 Ensure IP subnet allocation accounts for expansion and availability - AWS Well-Architected FrameworkAWSDocumentationAWS Well-ArchitectedFrameworkImplementation guidanceResourcesREL02-BP03 Ensure IP subnet allocation accounts for expansion\n  and availability\n    Amazon VPC IP address ranges must be large enough to accommodate\n    workload requirements, including factoring in future expansion and\n    allocation of IP addresses to subnets across Availability Zones.\n    This includes load balancers, EC2 instances, and container-based\n    applications.\n  \n    When you plan your network topology, the first step is to define the\n    IP address space itself. Private IP address ranges (following RFC\n    1918 guidelines) should be allocated for each VPC. Accommodate the\n    following requirements as part of this process:\n  \n\n\n        Allow IP address space for more than one VPC per Region.\n      \n\n\n        Within a VPC, allow space for multiple subnets so that you can cover multiple Availability Zones.\n      \n\n\n        Always leave unused CIDR block space within a VPC for future\n        expansion.\n      \n\n\n        Ensure that there is IP address space to meet the needs of any\n        transient fleets of EC2 instances that you might use, such as\n        Spot Fleets for machine learning, Amazon EMR clusters, or Amazon Redshift clusters.\n      \n\n\n        Note that the first four IP addresses and the last IP address in\n        each subnet CIDR block are reserved and not available for your\n        use.\n      \n\n\n        You should plan on deploying large VPC CIDR blocks. Note that\n        the initial VPC CIDR block allocated to your VPC cannot be\n        changed or deleted, but you can add additional non-overlapping\n        CIDR blocks to the VPC. Subnet IPv4 CIDRs cannot be changed,\n        however IPv6 CIDRs can. Keep in mind that deploying the largest\n        VPC possible (/16) results in over 65,000 IP addresses. In the\n        base 10.x.x.x IP address space alone, you could provision 255\n        such VPCs. You should therefore err on the side of being too\n        large rather than too small to make it easier to manage your\n        VPCs.\n      \n\nCommon anti-patterns:\n\n\n\n        Creating small VPCs.\n      \n\n\n        Creating small subnets and then having to add subnets to\n        configurations as you grow.\n      \n\n\n        Incorrectly estimating how many IP addresses a elastic load\n        balancer can use.\n      \n\n\n        Deploying many high traffic load balancers into the same\n        subnets.\n      \n\nBenefits of establishing this best\n    practice: This ensures that you can accommodate the\n    growth of your workloads and continue to provide availability as you\n    scale up.\n  \nLevel of risk exposed if this best practice\n    is not established: Medium\n  \nImplementation guidance\n\n\n        Plan your network to accommodate for growth, regulatory\n        compliance, and integration with others. Growth can be\n        underestimated, regulatory compliance can change, and acquisitions\n        or private network connections can be difficult to implement\n        without proper planning.\n      \n\n\n Select relevant AWS accounts and Regions based on your service requirements,\n              latency, regulatory, and disaster recovery (DR) requirements. \n\n Identify your needs for regional VPC deployments. \n\n Identify the size of the VPCs. \n\n\n Determine if you are going to deploy multi-VPC connectivity. \n\n\n\nWhat Is a Transit Gateway?\n\n\n\nSingle\n                        Region Multi-VPC Connectivity\n\n\n\n Determine if you need segregated networking for regulatory requirements.\n                \n\n Make VPCs as large as possible. The initial VPC CIDR block allocated to your\n                  VPC cannot be changed or deleted, but you can add additional non-overlapping CIDR\n                  blocks to the VPC. This however may fragment your address ranges. \n\n\nResources\n\nRelated documents:\n\n\n\n\nAPN\n          Partner: partners that can help plan your networking\n\n\n\nAWS Marketplace for Network Infrastructure\n\n\n\nAmazon Virtual Private Cloud Connectivity Options Whitepaper\n\n\n\nMultiple\n          data center HA network connectivity\n\n\n\nSingle\n          Region Multi-VPC Connectivity\n\n\n\nWhat\n          Is Amazon VPC?\n\n\n\nRelated videos:\n\n\n\n\nAWS re:Invent\n          2018: Advanced VPC Design and New Capabilities for Amazon VPC\n          (NET303)\n\n\n\nAWS re:Invent\n          2019: AWS Transit Gateway reference architectures for many\n          VPCs (NET406-R1)\n\n\n Javascript is disabled or is unavailable in your browser.To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.Document ConventionsREL02-BP02 Provision redundant connectivity between private\n  networks in the cloud and on-premises environmentsREL02-BP04 Prefer hub-and-spoke topologies over many-to-many\n  meshDid this page help you? - YesThanks for letting us know we're doing a good job!If you've got a moment, please tell us what we did right so we can do more of it.Did this page help you? - NoThanks for letting us know this page needs work. We're sorry we let you down.If you've got a moment, please tell us how we can make the documentation better.", "metadata": {"source": "https://docs.aws.amazon.com/wellarchitected/latest/framework/rel_planning_network_topology_ip_subnet_allocation.html", "title": "REL02-BP03 Ensure IP subnet allocation accounts for expansion and availability - AWS Well-Architected Framework", "description": "Amazon VPC IP address ranges must be large enough to accommodate workload requirements, including factoring in future expansion and allocation of IP addresses to subnets across Availability Zones. This includes load balancers, EC2 instances, and container-based applications.", "language": "en-US"}}