{"page_content": "OPS06-BP01 Plan for unsuccessful changes - AWS Well-Architected FrameworkOPS06-BP01 Plan for unsuccessful changes - AWS Well-Architected FrameworkAWSDocumentationAWS Well-ArchitectedFrameworkImplementation guidanceResourcesOPS06-BP01 Plan for unsuccessful changesPlan to revert to a known good state, or remediate in the production environment if the deployment causes an undesired outcome. Having a policy to establish such a plan helps all teams develop strategies to recover from failed changes. Some example strategies are deployment and rollback steps, change policies, feature flags, traffic isolation, and traffic shifting. A single release may include multiple related component changes. The strategy should provide the ability to withstand or recover from a failure of any component change.\nDesired outcome: You have prepared a detailed recovery plan for your change in the event it is unsuccessful.  In addition, you have reduced the size of your release to minimize the potential impact on other workload components.  As a result, you have reduced your business impact by shortening the potential downtime caused by a failed change and increased the flexibility and efficiency of recovery times.\n  \nCommon anti-patterns:\n\n\n\n        You performed a deployment and your application has become unstable but there appear to be active users on the system. You have to decide whether to rollback the change and impact the active users or wait to rollback the change knowing the users may be impacted regardless.\n      \n\n\n        After making a routine change, your new environments are accessible, but one of your subnets has become unreachable. You have to decide whether to rollback everything or try to fix the inaccessible subnet. While you are making that determination, the subnet remains unreachable.\n      \n\n\n        Your systems are not architected in a way that allows them to be updated with smaller releases. As a result, you have difficulty in reversing those bulk changes during a failed deployment.\n      \n\n\n        You do not use infrastructure as code (IaC) and you made manual updates to your infrastructure that resulted in an undesired configuration.  You are unable to effectively track and revert the manual changes.\n      \n\n\n        Because you have not measured increased frequency of your deployments, your team is not incentivized to reduce the size of their changes and improve their rollback plans for each change, leading to more risk and increased failure rates.\n      \n\n\n        You do not measure the total duration of an outage caused by unsuccessful changes. Your team is unable to prioritize and improve its deployment process and recovery plan effectiveness.\n      \n\nBenefits of establishing this best\n      practice: Having a plan to recover from unsuccessful changes minimizes the mean time to recover (MTTR) and reduces your business impact.\n  \nLevel of risk exposed if this best practice\n    is not established: High\n  \nImplementation guidance\n\n      A consistent, documented policy and practice adopted by release teams allows an organization to plan what should happen if unsuccessful changes occur. The policy should allow for fixing forward in specific circumstances.  In either situation, a fix forward or rollback plan should be well documented and tested before deployment to live production so that the time it takes to revert a change is minimized.\n    \nImplementation steps\n\n\n\n            Document the policies that require teams to have effective plans to reverse changes within a specified period.\n          \n\n\n\n                Policies should specify when a fix-forward situation is allowed.\n              \n\n\n                Require a documented rollback plan to be accessible by all involved.\n              \n\n\n                Specify the requirements to rollback (for example, when it is found that unauthorized changes have been deployed).\n              \n\n\n\n            Analyze the level of impact of all changes related to each component of a workload.\n            \n          \n\n\n\n                Allow repeatable changes to be standardized, templated, and preauthorized if they follow a consistent workflow that enforces change policies.\n              \n\n\n                Reduce the potential impact of any change by making the size of the change smaller so recovery takes less time and causes less business impact.\n              \n\n\n                Ensure rollback procedures revert code to the known good state to avoid incidents where possible.\n              \n\n\n\n            Integrate tools and workflows to enforce your policies programatically.\n          \n\n\n            Make data about changes visible to other workload owners to improve the speed of diagnosis of any failed change that cannot be rolled back.\n            \n          \n\n\n\n                Measure success of this practice using visible change data and identify iterative improvements.\n              \n\n\n\n            Use monitoring tools to verify the success or failure of a deployment to speed up decision-making on rolling back.\n          \n\n\n            Measure your duration of outage during an unsuccessful change to continually improve your recovery plans.\n          \n\n\nLevel of effort for the implementation plan: Medium\n      \nResources\n\nRelated best practices:\n\n\n\n\nOPS06-BP04 Automate testing and rollback\n\n\n\nRelated documents:\n\n\n\nAWS Builders Library | Ensuring Rollback Safety During Deployments\n        \n\nAWS Whitepaper | Change Management in the Cloud\n        \n\n\nRelated videos:\n\n\n\n\n          re:Invent 2019 | Amazon\u00e2\u20ac\u2122s approach to high-availability deployment\n        \n\n Javascript is disabled or is unavailable in your browser.To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.Document ConventionsOPS 6. How do you mitigate deployment risks?OPS06-BP02 Test deploymentsDid this page help you? - YesThanks for letting us know we're doing a good job!If you've got a moment, please tell us what we did right so we can do more of it.Did this page help you? - NoThanks for letting us know this page needs work. We're sorry we let you down.If you've got a moment, please tell us how we can make the documentation better.", "metadata": {"source": "https://docs.aws.amazon.com/wellarchitected/latest/framework/ops_mit_deploy_risks_plan_for_unsucessful_changes.html", "title": "OPS06-BP01 Plan for unsuccessful changes - AWS Well-Architected Framework", "description": "Plan to revert to a known good state, or remediate in the production environment if the deployment causes an undesired outcome. Having a policy to establish such a plan helps all teams develop strategies to recover from failed changes. Some example strategies are deployment and rollback steps, change policies, feature flags, traffic isolation, and traffic shifting. A single release may include multiple related component changes. The strategy should provide the ability to withstand or recover from a failure of any component change.", "language": "en-US"}}