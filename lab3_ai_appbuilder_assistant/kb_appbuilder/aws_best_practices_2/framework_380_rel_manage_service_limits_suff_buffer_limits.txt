{"page_content": "REL01-BP06 Ensure that a sufficient gap exists between the current quotas and the maximum usage to accommodate failover - AWS Well-Architected FrameworkREL01-BP06 Ensure that a sufficient gap exists between the current quotas and the maximum usage to accommodate failover - AWS Well-Architected FrameworkAWSDocumentationAWS Well-ArchitectedFrameworkImplementation guidanceResourcesREL01-BP06 Ensure that a sufficient gap exists between the\n  current quotas and the maximum usage to accommodate failoverThis article explains how to maintain space between the resource quota and your usage, and how it can benefit your organization. After you finish using a resource, the usage quota may continue to account for that resource. This can result in a failing or inaccessible resource. Prevent resource failure by verifying that your quotas cover the overlap of inaccessible resources and their replacements. Consider cases like network failure, Availability Zone failure, or Region failures when calculating this gap.\nDesired outcome: Small or large failures in resources or resource accessibility can be covered within the current service thresholds. Zone failures, network failures, or even Regional failures have been considered in the resource planning. \n  \nCommon anti-patterns:\n\n\n\n        Setting service quotas based on current needs without accounting for failover scenarios.\n      \n\n\n        Not considering the principals of static stability when calculating the peak quota for a service.\n      \n\n\n        Not considering the potential of inaccessible resources in calculating total quota needed for each Region.\n      \n\n\n        Not considering AWS service fault isolation boundaries for some services and their potential abnormal usage patterns. \n      \n\nBenefits of establishing this best\n      practice: When service disruption events impact application availability, use the cloud to implement strategies to recover from these events. An example strategy is creating additional resources to replace inaccessible resources to accommodate failover conditions without exhausting your service limit.\n  \nLevel of risk exposed if this best practice\n    is not established: Medium\n  \nImplementation guidance\n\n      When evaluating a quota limit, consider failover cases that might occur due to some degradation. Consider the following failover cases.\n    \n\n\n\n          A disrupted or inaccessible VPC.\n        \n\n\n          An inaccessible subnet.\n        \n\n\n          A degraded Availability Zone that impacts resource accessibility.\n        \n\n\n          Networking routes or ingress and egress points are blocked or changed.\n        \n\n\n          A degraded Region that impacts resource accessibility.\n        \n\n\n          A subset of resources affected by a failure in a Region or an Availability Zone.\n        \n\n\n      The decision to failover is unique for each situation, as the business impact can vary. Address resource capacity planning in the failover location and the resources\u2019 quotas before deciding to failover an application or service.\n    \n\n      Consider higher than normal peaks of activity when reviewing quotas for each service. These peaks might be related to resources that are inaccessible due to networking or permissions, but are still active. Unterminated active resources count against the service quota limit.\n    \n\nImplementation steps\n\n\n\n\n          Maintain space between your service quota and your maximum usage to accommodate for a failover or loss of accessibility.\n        \n\n\n          Determine your service quotas. Account for typical deployment patterns, availability requirements, and consumption growth.\n        \n\n\n          Request quota increases if necessary. Anticipate a wait time for the quota increase request.\n        \n\n\n          Determine your reliability requirements (also known as your number of nines).\n        \n\n\n          Understand potential fault scenarios such as loss of a component, an Availability Zone, or a Region.\n        \n\n\n          Establish your deployment methodology (examples include canary, blue/green, red/black, and rolling).\n        \n\n\n          Include an appropriate buffer to the current quota limit. An example buffer could be 15%.\n        \n\n\n          Include calculations for static stability (Zonal and Regional) where appropriate.\n        \n\n\n          Plan consumption growth and monitor your consumption trends.\n        \n\n\n          Consider the static stability impact for your most critical workloads. Assess resources\n          conforming to a statically stable system in all Regions and Availability Zones.\n        \n\n\n          Consider using On-Demand Capacity Reservations to schedule capacity ahead of any failover. This is a useful strategy to implement for critical business schedules to reduce potential risks of obtaining the correct quantity and type of resources during failover.\n        \n\nResources\n\nRelated best practices:\n\n\n\n\nREL01-BP01 Aware of service quotas and constraints\n\n\n\nREL01-BP02 Manage service quotas across accounts and\n  regions\n\n\n\nREL01-BP03 Accommodate fixed service quotas and constraints\n  through architecture\n\n\n\nREL01-BP04 Monitor and manage quotas\n\n\n\nREL01-BP05 Automate quota management\n\n\n\nREL03-BP01 Choose how to segment your workload\n\n\n\nREL10-BP01 Deploy the workload to multiple locations\n\n\n\nREL11-BP01 Monitor all components of the workload to detect\n  failures\n\n\n\nREL11-BP03 Automate healing on all layers\n\n\n\nREL12-BP05 Test resiliency using chaos engineering\n\n\n\nRelated documents:\n\n\n\nAWS Well-Architected Framework\u2019s Reliability Pillar: Availability\n        \n\n\nAWS Service Quotas (formerly referred to as service limits)\n\n\n\nAWS Trusted Advisor Best Practice Checks (see the Service Limits\n            section)\n\n\n\nAWS limit monitor on AWS answers\n\n\n\nAmazon EC2 Service Limits\n\n\n\nWhat\n            is Service Quotas?\n\n\n\n          How to Request Quota Increase\n        \n\n\n          Service endpoints and quotas\n        \n\n\nService Quotas User Guide\n\n\n\n          Quota Monitor for AWS\n\nAWS Fault Isolation Boundaries\n        \n\n\n          Availability with redundancy\n        \n\nAWS for Data\n        \n\n\n          What is Continuous Integration?\n        \n\n\n          What is Continuous Delivery?\n        \n\n\n          APN Partner: partners that can help with configuration management\n        \n\n\n          Managing the account lifecycle in account-per-tenant SaaS environments on AWS\n\n\n          Managing and monitoring API throttling in your workloads\n        \n\n\n          View AWS Trusted Advisor recommendations at scale with AWS Organizations\n\n\n          Automating Service Limit Increases and Enterprise Support with AWS Control Tower\n\n\n          Actions, resources, and condition keys for Service Quotas\n        \n\n\nRelated videos:\n\n\n\n\nAWS Live\n            re:Inforce 2019 - Service Quotas\n\n\n\n          View and Manage Quotas for AWS Services Using Service Quotas\n        \n\nAWS IAM Quotas Demo\n        \n\nAWS re:Invent 2018: Close Loops and Opening Minds: How to Take Control of Systems, Big and Small\n        \n\n\nRelated tools:\n\n\n\nAWS CodeDeploy\n\nAWS CloudTrail\n\n\n          Amazon CloudWatch\n        \n\n\n          Amazon EventBridge\n        \n\n\n          Amazon DevOps\u00a0Guru\n        \n\nAWS Config\n\nAWS Trusted Advisor\n\nAWS CDK\n        \n\nAWS Systems Manager\n\nAWS Marketplace\n\n Javascript is disabled or is unavailable in your browser.To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.Document ConventionsREL01-BP05 Automate quota management REL 2. How do you plan your network topology? Did this page help you? - YesThanks for letting us know we're doing a good job!If you've got a moment, please tell us what we did right so we can do more of it.Did this page help you? - NoThanks for letting us know this page needs work. We're sorry we let you down.If you've got a moment, please tell us how we can make the documentation better.", "metadata": {"source": "https://docs.aws.amazon.com/wellarchitected/latest/framework/rel_manage_service_limits_suff_buffer_limits.html", "title": "REL01-BP06 Ensure that a sufficient gap exists between the current quotas and the maximum usage to accommodate failover - AWS Well-Architected Framework", "description": "This article explains how to maintain space between the resource quota and your usage, and how it can benefit your organization. After you finish using a resource, the usage quota may continue to account for that resource. This can result in a failing or inaccessible resource. Prevent resource failure by verifying that your quotas cover the overlap of inaccessible resources and their replacements. Consider cases like network failure, Availability Zone failure, or Region failures when calculating this gap.", "language": "en-US"}}